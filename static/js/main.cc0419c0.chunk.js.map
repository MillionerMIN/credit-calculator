{"version":3,"sources":["components/formParameters/FormParameters.module.css","components/formResults/FormResults.module.css","components/detailsCalculation/DetailsCalculation.module.css","components/common/textLow/textLow.module.css","components/common/input/SuperInputText.module.css","components/common/button/SuperButton.module.css","components/app/App.module.css","components/common/container/Container.module.css","api/api.ts","utils/datePeriod/datePeriod.ts","components/common/textLow/TextLow.tsx","components/detailsCalculation/DetailsCalculation.tsx","components/common/button/SuperButton.tsx","components/common/input/SuperInputText.tsx","components/formParameters/FormParameters.tsx","components/formResults/FormResults.tsx","components/calculat/Calculate.tsx","utils/annuity/annuityCalculationMethod.ts","utils/differentiated/differentiatedCalculationMethod.ts","components/common/container/Container.tsx","components/app/App.tsx","index.tsx"],"names":["module","exports","base","getResource","url","a","fetch","response","ok","Error","status","json","getRefinancingRate","ondate","res","datePeriod","nowDate","period","months","arrDate","date","getDate","month","getMonth","year","getFullYear","i","push","toString","TextLow","props","firstStr","lastStr","str","num","before","indexOf","slice","length","className","style","first","last","DetailsCalculation","data","active","elementsTable","map","el","presents","mainDebt","dif","remainSumma","detailCalculation","subtitle","table","table__header","SuperButton","red","restProps","finalClassName","s","delete","default","SuperInputText","type","onChange","onChangeText","onKeyPress","onEnter","error","spanClassName","finalSpanClassName","finalInputClassName","errorInput","superInput","e","currentTarget","value","key","FormParameters","summa","rate","method","onChangeSumma","onChangeRate","onChangePeriod","onChangeMethodCalculation","entry","parameter","btn","disabled","data-period","onClick","btnMethod","name","data-method","formParameters","parameters","loanTerm","methods","FormResults","onOpenDetails","detail","maxDif","minDif","totalAmount","totalOverpayment","title","input","formResults","details","button","Calculate","useState","setSumma","setRate","setPeriod","setDetail","setMethod","useEffect","then","Value","catch","console","log","dataDetails","ann","calcDetails","monthRate","Math","pow","toFixed","Date","annuityCalculationMethod","calcDetail","differentiatedCalculationMethod","reduce","sum","item","calcResults","isFinite","dataset","Container","children","container","App","app","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc0419c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formParameters\":\"FormParameters_formParameters__utpXp\",\"subtitle\":\"FormParameters_subtitle__3PW_2\",\"parameters\":\"FormParameters_parameters__2nr0p\",\"parameter\":\"FormParameters_parameter__9uTvH\",\"loanTerm\":\"FormParameters_loanTerm__1Hagq\",\"methods\":\"FormParameters_methods__1Mm6l\",\"active\":\"FormParameters_active__9V3ST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formResults\":\"FormResults_formResults__1KDqA\",\"subtitle\":\"FormResults_subtitle__20xti\",\"details\":\"FormResults_details__2lqe7\",\"detail\":\"FormResults_detail__1TcUp\",\"title\":\"FormResults_title___1pHV\",\"button\":\"FormResults_button__3Uqhb\",\"active\":\"FormResults_active__1Xrsv\",\"input\":\"FormResults_input__r5VE2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailCalculation\":\"DetailsCalculation_detailCalculation__1DoOt\",\"subtitle\":\"DetailsCalculation_subtitle__3xlLh\",\"table\":\"DetailsCalculation_table__1u8zm\",\"table__header\":\"DetailsCalculation_table__header__3LP2G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"first\":\"textLow_first__1FOfG\",\"last\":\"textLow_last__1Xw1X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"superInput\":\"SuperInputText_superInput__2p518\",\"errorInput\":\"SuperInputText_errorInput__2Gfoq\",\"error\":\"SuperInputText_error__3Kugb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__2LI2W\",\"delete\":\"SuperButton_delete__3KUUM\",\"active\":\"SuperButton_active__2fz-D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1XFjV\",\"title\":\"App_title__19kxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2OrUr\"};","const base = {\n  _baseUrl: 'https://www.nbrb.by/api/refinancingrate',\n  _baseOnDate: '2021-11-25',\n};\n\nexport const getResource = async (url: string) => {\n  const response = await fetch(url);\n  if (!response.ok) {\n    return new Error(`Could not fetch ${url}, status: ${response.status}`);\n  }\n  return await response.json();\n};\n\nexport const getRefinancingRate = async (ondate = base._baseOnDate) => {\n  const res: RefinancingRateType[] = await getResource(\n    `${base._baseUrl}?ondate=${ondate}`\n  );\n  return res;\n};\n\ntype RefinancingRateType = {\n  Date: string;\n  Value: string;\n};\n","//функция выводит даты платежей по кредиту\nexport const datePeriod = (nowDate: Date, period: number) => {\n  const months = [\n    '01',\n    '02',\n    '03',\n    '04',\n    '05',\n    '06',\n    '07',\n    '08',\n    '09',\n    '10',\n    '11',\n    '12',\n  ];\n  let arrDate = [];\n  const date = nowDate.getDate();\n  let month = nowDate.getMonth();\n  let year = nowDate.getFullYear();\n\n  if (month === 12) {\n    month = 0;\n    year++;\n  }\n\n  for (var i = 0; i < period; i++) {\n    arrDate.push(\n      date < 10\n        ? +('0' + date.toString())\n        : date + '-' + months[month++] + '-' + year\n    );\n\n    if (month === 12) {\n      month = 0;\n      year++;\n    }\n  }\n  return arrDate;\n};\n\n\n","import style from './textLow.module.css';\n\ntype TextLowPropsType = {\n  num: any;\n};\n\nexport const TextLow = (props: TextLowPropsType) => {\n  const { num } = props;\n  let firstStr, lastStr;\n  let str = num.toString();\n  let before = str.indexOf('.');\n  if (before === -1 && str > 0) {\n    firstStr = str;\n    lastStr = '.00';\n    if (firstStr === 0) {\n      firstStr = 0;\n      lastStr = '';\n    }\n  } else if (before === -1 && str < 0) {\n    firstStr = '---';\n  } else {\n    firstStr = str.slice(0, before);\n    lastStr = str.slice(before, str.length);\n    if (firstStr === 0) {\n      firstStr = 0;\n    }\n    if (lastStr.length < 3) {\n      lastStr += '0';\n    }\n  }\n\n  return (\n    <>\n      <span className={style.first}>{firstStr}</span>\n      <span className={style.last}>{lastStr}</span>\n      {(before !== -1 || str > 0) && <span className={style.last}> руб</span>}\n    </>\n  );\n};\n","import { CalculationDetailsType } from '../calculat/Calculate';\nimport { TextLow } from '../common/textLow/TextLow';\nimport style from './DetailsCalculation.module.css';\n\ntype DetailsCalculationPropsType = {\n  data: CalculationDetailsType[];\n  active: boolean;\n};\n\nexport const DetailsCalculation = (props: DetailsCalculationPropsType) => {\n  const { data, active } = props;\n\n  const elementsTable = data.map((el, i) => (\n    <tr key={i}>\n      <td>{i + 1}</td>\n      <td>{el.date}</td>\n      <td>\n        <TextLow num={el.presents} />\n      </td>\n      <td>\n        <TextLow num={el.mainDebt} />\n      </td>\n      <td>\n        <TextLow num={el.dif} />\n      </td>\n      <td>\n        <TextLow num={el.remainSumma} />\n      </td>\n    </tr>\n  ));\n\n  return (\n    <>\n      {active && (\n        <div className={style.detailCalculation}>\n          <div className={style.subtitle}>Детали расчета</div>\n          <table className={style.table}>\n            <tbody>\n              <tr className={style.table__header}>\n                <th>порядковый номер платежа</th>\n                <th>дата платежа</th>\n                <th>платёж по процентам</th>\n                <th>платёж по основному долгу</th>\n                <th>\n                  общая сумма платежа (равная сумме двух платежей: по процентам\n                  и по основному долгу)\n                </th>\n                <th>остаток по телу кредита после данного платежа</th>\n              </tr>\n              {elementsTable}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { ButtonHTMLAttributes, DetailedHTMLProps } from 'react';\nimport s from './SuperButton.module.css';\n\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\ntype DefaultButtonPropsType = DetailedHTMLProps<\n  ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n>;\n\ntype SuperButtonPropsType = DefaultButtonPropsType & {\n  red?: boolean;\n};\n\nconst SuperButton: React.FC<SuperButtonPropsType> = ({\n  red,\n  className,\n  ...restProps // все остальные пропсы попадут в объект restProps, там же будет children\n}) => {\n  const finalClassName = `${red ? s.delete : s.default}  ${className}`;\n\n  return (\n    <button\n      className={finalClassName}\n      {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\n    />\n  );\n};\n\nexport default SuperButton;\n","import React, {\n  ChangeEvent,\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  KeyboardEvent,\n} from 'react';\nimport s from './SuperInputText.module.css';\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\ntype SuperInputTextPropsType = DefaultInputPropsType & {\n  // и + ещё пропсы которых нет в стандартном инпуте\n  onChangeText?: (value: string) => void;\n  onEnter?: () => void;\n  error?: string;\n  spanClassName?: string;\n};\n\nconst SuperInputText: React.FC<SuperInputTextPropsType> = ({\n  type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\n  onChange,\n  onChangeText,\n  onKeyPress,\n  onEnter,\n  error,\n  className,\n  spanClassName,\n\n  ...restProps // все остальные пропсы попадут в объект restProps\n}) => {\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\n    onChange && // если есть пропс onChange\n      onChange(e); // то передать ему е (поскольку onChange не обязателен)\n\n    onChangeText && onChangeText(e.currentTarget.value);\n  };\n  const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\n    onKeyPress && onKeyPress(e);\n\n    onEnter && // если есть пропс onEnter\n      e.key === 'Enter' && // и если нажата кнопка Enter\n      onEnter(); // то вызвать его\n  };\n\n  const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : ''}`;\n  const finalInputClassName = `${\n    error ? s.errorInput : s.superInput\n  } ${className}`; // need to fix with (?:) and s.superInput\n\n  return (\n    <>\n      <input\n        type={'text'}\n        onChange={onChangeCallback}\n        onKeyPress={onKeyPressCallback}\n        className={finalInputClassName}\n        {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\n      />\n      {error && <span className={finalSpanClassName}>{error}</span>}\n    </>\n  );\n};\n\nexport default SuperInputText;\n","import SuperButton from '../common/button/SuperButton';\nimport SuperInputText from '../common/input/SuperInputText';\nimport style from './FormParameters.module.css';\n\ntype FormParametersPropsType = {\n  summa: string;\n  rate: string;\n  period: number;\n  method: boolean;\n  onChangeSumma: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onChangeRate: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onChangePeriod: (e: React.MouseEvent<HTMLSpanElement>) => void;\n  onChangeMethodCalculation: (e: React.MouseEvent<HTMLSpanElement>) => void;\n};\n\nexport const FormParameters = (props: FormParametersPropsType) => {\n  const {\n    summa,\n    rate,\n    period,\n    method,\n    onChangeSumma,\n    onChangeRate,\n    onChangePeriod,\n    onChangeMethodCalculation,\n  } = props;\n\n  const entry = (\n    <>\n      <label className={style.parameter}>\n        суммы кредита (в рублях)\n        <SuperInputText\n          onChange={onChangeSumma}\n          value={summa}\n          error={+summa === 0 || summa === null ? 'Не корректное число!' : ''}\n        />\n      </label>\n      <label className={style.parameter}>\n        процентная ставка по кредиту (в %)\n        <SuperInputText\n          onChange={onChangeRate}\n          value={rate}\n          error={+rate === 0 || rate === null ? 'Не корректное число!' : ''}\n        />\n      </label>\n    </>\n  );\n\n  const arrButtons = [\n    { value: 1, period: '1 месяц' },\n    { value: 3, period: '3 месяца' },\n    { value: 6, period: '6 месяцев' },\n    { value: 12, period: '1 год' },\n    { value: 24, period: '2 года' },\n    { value: 60, period: '5 лет' },\n  ];\n  //элемент btn денамически отрисовывает все элементы находящиеся в массиве arrButtons\n  const btn = arrButtons.map((btn, i) => (\n    <SuperButton\n      key={i}\n      className={`${btn.value === period ? style.active : null}`}\n      disabled={btn.value === period}\n      data-period={btn.value}\n      onClick={onChangePeriod}\n    >\n      {btn.period}\n    </SuperButton>\n  ));\n\n  const arrMethods = [\n    { name: 'Аннуитетный', active: method },\n    { name: 'Дифференцированный', active: !method },\n  ];\n  //элемент btnMethod денамически отрисовывает все элементы находящиеся в массиве arrButtons\n  const btnMethod = arrMethods.map((method, i) => (\n    <SuperButton\n      key={i}\n      className={`${method.active ? style.active : null}`}\n      disabled={method.active}\n      data-method={method.name}\n      onClick={onChangeMethodCalculation}\n    >\n      {method.name}\n    </SuperButton>\n  ));\n\n  return (\n    <div className={style.formParameters}>\n      <div className={style.subtitle}>Форма ввода параметров кредита</div>\n      <div className={style.parameters}>{entry}</div>\n      <div className={style.subtitle}>Выберите срок кредитования</div>\n      <div className={style.loanTerm}>{btn}</div>\n      <div className={style.subtitle}>Выберите метод расчета кредитования</div>\n      <div className={style.methods}>{btnMethod}</div>\n    </div>\n  );\n};\n","import { CalculationResultsType } from '../calculat/Calculate';\nimport SuperButton from '../common/button/SuperButton';\nimport { TextLow } from '../common/textLow/TextLow';\nimport style from './FormResults.module.css';\n\ntype FormResultsPropsType = {\n  data: CalculationResultsType;\n  active: boolean;\n  onOpenDetails: () => void;\n};\n\nexport const FormResults = (props: FormResultsPropsType) => {\n  const { data, active, onOpenDetails } = props;\n  const arrDetails = [\n    { subtitle: 'сумма кредита', value: data.summa },\n    {\n      subtitle: 'ежемесячный платёж',\n      value: data.dif,\n    },\n    {\n      subtitle: 'максимальный ежемесячный платёж',\n      value: data.maxDif,\n    },\n    {\n      subtitle: 'минимальный ежемесячный платёж',\n      value: data.minDif,\n    },\n    { subtitle: 'общая сумма выплат по кредиту', value: data.totalAmount },\n    {\n      subtitle: 'общая сумма переплаты по кредиту',\n      value: data.totalOverpayment,\n    },\n  ];\n\n  //элемент detail денамически отрисовывает все элементы находящиеся в массиве arrDetails\n  const detail = arrDetails.map((detail, i) => (\n    <div className={style.detail} key={i}>\n      <div className={style.title}>{detail.subtitle}</div>\n      <div className={style.input}>\n        <TextLow num={!detail.value ? -1 : detail.value} />\n      </div>\n    </div>\n  ));\n\n  return (\n    <>\n      <div className={style.formResults}>\n        <div className={style.subtitle}>Результаты расчёта</div>\n        <div className={style.details}>{detail}</div>\n        <div className={style.button}>\n          <SuperButton\n            className={`${active && style.active}`}\n            onClick={onOpenDetails}\n          >\n            Детали расчёта\n          </SuperButton>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { getRefinancingRate } from '../../api/api';\nimport { annuityCalculationMethod } from '../../utils/annuity/annuityCalculationMethod';\nimport { differentiatedCalculationMethod } from '../../utils/differentiated/differentiatedCalculationMethod';\nimport { DetailsCalculation } from '../detailsCalculation/DetailsCalculation';\nimport { FormParameters } from '../formParameters/FormParameters';\nimport { FormResults } from '../formResults/FormResults';\n\nexport type CalculationResultsType = {\n  //Сумма кредита\n  summa: number;\n  //Ежемесечный платеж:\n  dif?: number;\n  //Максимальный ежемесечный платеж\n  maxDif?: number;\n  //Минимальный ежемесечный платеж\n  minDif?: number;\n  //общая сумма выплат по кредиту\n  totalAmount: number;\n  // общая сумма переплаты по кредиту\n  totalOverpayment: number;\n};\n\nexport type CalculationDetailsType = {\n  //дата платежа:\n  date: string | number;\n  //Сумма процентов в текущем месяце\n  presents: number;\n  //платёж по основному долгу:\n  mainDebt: number;\n  //общая сумма платежа:\n  dif: number;\n  //остаток по телу кредита после данного платежа:\n  remainSumma: number;\n};\n\nexport const Calculate = () => {\n  const [summa, setSumma] = useState<string>('10000');\n  const [rate, setRate] = useState<string>('25');\n  const [period, setPeriod] = useState<number>(12);\n  const [detail, setDetail] = useState<boolean>(false);\n  const [method, setMethod] = useState<boolean>(true);\n\n  //запрос для получения ставки рефенансирования + 5п.п.\n  useEffect(() => {\n    getRefinancingRate()\n      .then((data) => {\n        setRate(data[0].Value + 5);\n      })\n      .catch((error) => console.log('Error:' + error));\n  }, []);\n\n  //функция изменения суммы кредита\n  const changeSumma = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (!isFinite(+value)) return;\n    setSumma(value);\n  };\n\n  //функция изменения процентной ставки\n  const changeRate = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (!isFinite(+value)) return;\n    setRate(value);\n  };\n\n  //функция изменения периода кредитования\n  const changePeriod = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.currentTarget.dataset.period &&\n      setPeriod(+e.currentTarget.dataset.period);\n  };\n\n  //функция отоброжения блока с деталями расчёта\n  const onOpenDetails = () => {\n    setDetail(!detail);\n  };\n  //функция переключения метода расчета\n  const onChangeMethodCalculation = (e: React.MouseEvent<HTMLSpanElement>) => {\n    e.currentTarget.dataset.method && setMethod(!method);\n  };\n  //\n  //Стартовые данные\n  let dataDetails: CalculationDetailsType[];\n  let dif, maxDif, minDif;\n\n  // Проверка Условие выбора метода расчета\n  if (method) {\n    dataDetails = annuityCalculationMethod(+summa, period, +rate);\n    dif = +dataDetails[0].dif.toFixed(2);\n  } else {\n    dataDetails = differentiatedCalculationMethod(+summa, period, +rate);\n    //Максимальный ежемесечный платеж\n    maxDif = dataDetails[0].dif;\n    //Минимальный ежемесечный платеж\n    minDif = dataDetails[dataDetails.length - 1].dif;\n  }\n\n  // общая сумма выплат по кредиту\n  const totalAmount = +dataDetails\n    .reduce((sum: number, item: any) => {\n      return sum + item.dif;\n    }, 0)\n    .toFixed(2);\n  // общая сумма переплаты по кредиту\n  const totalOverpayment = +(totalAmount - +summa).toFixed(2);\n\n  const calcResults: CalculationResultsType = {\n    summa: +summa,\n    dif,\n    maxDif,\n    minDif,\n    totalAmount,\n    totalOverpayment,\n  };\n\n  return (\n    <>\n      <FormParameters\n        summa={summa}\n        rate={rate}\n        period={period}\n        method={method}\n        onChangeSumma={changeSumma}\n        onChangeRate={changeRate}\n        onChangePeriod={changePeriod}\n        onChangeMethodCalculation={onChangeMethodCalculation}\n      />\n      <FormResults\n        data={calcResults}\n        active={detail}\n        onOpenDetails={onOpenDetails}\n      />\n\n      <DetailsCalculation\n        active={detail}\n        //@ts-ignore\n        data={dataDetails}\n      />\n    </>\n  );\n};\n","//######### annuity formula ##########\n//метод расчета использовал https://myfin.by/wiki/term/annuitetnyj-platyozh\n\nimport { datePeriod } from '../datePeriod/datePeriod';\n\nexport function annuityCalculationMethod(\n  summa: number,\n  period: number,\n  rate: number\n) {\n  let calcDetails = [];\n  //сумма ежемесячного аннуитетного платежа = коэффициент аннуитета * сумма кредита\n  let ann = 0;\n  //процентная ставка в месяц;\n  let monthRate = rate / 12 / 100;\n  let topPart = monthRate * Math.pow(1 + monthRate, period);\n  let bottomPart = Math.pow(1 + monthRate, period) - 1;\n  //коэффициент аннуитета\n  let rateAnn = topPart / bottomPart;\n  let remainSumma = summa;\n  ann = +(rateAnn * summa).toFixed(2);\n  //массив дат для отоброжения дат периода\n  const arrDate = datePeriod(new Date(), period);\n\n  for (let i = 0; i < period; i++) {\n    calcDetails.push({\n      date: arrDate[i],\n      presents: +((ann * period - summa) / period).toFixed(2),\n      mainDebt: +(summa / period).toFixed(2),\n      dif: ann,\n      remainSumma: +(remainSumma -= summa / period).toFixed(2),\n    });\n  }\n  return calcDetails;\n}\n","// ########## Дифференцированный метод ##########\n\nimport { CalculationDetailsType } from '../../components/calculat/Calculate';\nimport { datePeriod } from '../datePeriod/datePeriod';\n\nexport function differentiatedCalculationMethod(\n  summa: number,\n  period: number,\n  rate: number\n) {\n  let calcDetails = [];\n\n  let monthRate = rate / 12 / 100;\n  let dif = 0;\n  let presents = 0;\n  //Оставшееся сумма платежа\n  let remainSumma = summa;\n  //Основной долг «тело кредита», то есть ежемесячный платеж в счет погашения основного долга\n  let mainDebt = +(summa / period).toFixed(2);\n  //Расчет каждого платежа\n\n  //массив дат для отоброжения дат периода\n  const arrDate = datePeriod(new Date(), period);\n  for (let i = 0; i < period; i++) {\n    let calcDetail = {} as CalculationDetailsType;\n    calcDetail = {\n      ...calcDetail,\n      date: arrDate[i],\n    };\n    calcDetail = { ...calcDetail, remainSumma };\n\n    presents = +(remainSumma * monthRate).toFixed(2); //ежемесячная сумма подлежащих к уплате процентов\n    calcDetail = { ...calcDetail, presents };\n    remainSumma -= mainDebt;\n    remainSumma = +remainSumma.toFixed(2);\n    dif = +(presents + mainDebt).toFixed(2); //сумма ежемесячного дифференцированного платежа\n    calcDetail = { ...calcDetail, mainDebt, dif };\n    calcDetails.push(calcDetail);\n  }\n  return [...calcDetails];\n}\n","import style from './Container.module.css';\n\nexport const Container: React.FunctionComponent = ({\n  children,\n}): JSX.Element => {\n  return <div className={style.container}>{children}</div>;\n};\n","import { Calculate } from '../calculat/Calculate';\nimport { Container } from '../common/container/Container';\n\nimport style from './App.module.css';\n\nfunction App() {\n  return (\n    <div className={style.app}>\n      <Container>\n        <h2 className={style.title}>\"Кредитный калькулятор\"</h2>\n        <Calculate />\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}